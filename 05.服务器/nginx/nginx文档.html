<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | 一颗牙疼</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.f1b473bd.js" as="script"><link rel="preload" href="/assets/js/2.fe0fd2e3.js" as="script"><link rel="preload" href="/assets/js/47.5dce1505.js" as="script"><link rel="prefetch" href="/assets/js/10.33590986.js"><link rel="prefetch" href="/assets/js/100.f78ba335.js"><link rel="prefetch" href="/assets/js/101.144e6339.js"><link rel="prefetch" href="/assets/js/102.aff501b7.js"><link rel="prefetch" href="/assets/js/103.dce26470.js"><link rel="prefetch" href="/assets/js/104.26548958.js"><link rel="prefetch" href="/assets/js/11.e176da1e.js"><link rel="prefetch" href="/assets/js/12.e17f1dc0.js"><link rel="prefetch" href="/assets/js/13.b24f9ea2.js"><link rel="prefetch" href="/assets/js/14.347b4cb2.js"><link rel="prefetch" href="/assets/js/15.25c18adb.js"><link rel="prefetch" href="/assets/js/16.b82deb5e.js"><link rel="prefetch" href="/assets/js/17.4b8eda5c.js"><link rel="prefetch" href="/assets/js/18.94f035df.js"><link rel="prefetch" href="/assets/js/19.f9f0fb9a.js"><link rel="prefetch" href="/assets/js/20.e0617732.js"><link rel="prefetch" href="/assets/js/21.ded72680.js"><link rel="prefetch" href="/assets/js/22.a7d10053.js"><link rel="prefetch" href="/assets/js/23.2a865452.js"><link rel="prefetch" href="/assets/js/24.78892c84.js"><link rel="prefetch" href="/assets/js/25.754b8f95.js"><link rel="prefetch" href="/assets/js/26.83bff54d.js"><link rel="prefetch" href="/assets/js/27.5f6e1d66.js"><link rel="prefetch" href="/assets/js/28.0d045f90.js"><link rel="prefetch" href="/assets/js/29.df8cae72.js"><link rel="prefetch" href="/assets/js/3.9424d082.js"><link rel="prefetch" href="/assets/js/30.487b6d63.js"><link rel="prefetch" href="/assets/js/31.981a689c.js"><link rel="prefetch" href="/assets/js/32.4054d6a4.js"><link rel="prefetch" href="/assets/js/33.82377f32.js"><link rel="prefetch" href="/assets/js/34.422c6876.js"><link rel="prefetch" href="/assets/js/35.1bd78c05.js"><link rel="prefetch" href="/assets/js/36.763eef96.js"><link rel="prefetch" href="/assets/js/37.b9f362d0.js"><link rel="prefetch" href="/assets/js/38.81fa7d88.js"><link rel="prefetch" href="/assets/js/39.9d65c1ee.js"><link rel="prefetch" href="/assets/js/4.0b2df6d7.js"><link rel="prefetch" href="/assets/js/40.62236695.js"><link rel="prefetch" href="/assets/js/41.5fe37bc2.js"><link rel="prefetch" href="/assets/js/42.0535a0c4.js"><link rel="prefetch" href="/assets/js/43.959d2b22.js"><link rel="prefetch" href="/assets/js/44.4f5d7e45.js"><link rel="prefetch" href="/assets/js/45.95b3c34a.js"><link rel="prefetch" href="/assets/js/46.54a00035.js"><link rel="prefetch" href="/assets/js/48.02394ae9.js"><link rel="prefetch" href="/assets/js/49.df5ab6b8.js"><link rel="prefetch" href="/assets/js/5.60d4a913.js"><link rel="prefetch" href="/assets/js/50.f23015f8.js"><link rel="prefetch" href="/assets/js/51.3c1268b6.js"><link rel="prefetch" href="/assets/js/52.582990b8.js"><link rel="prefetch" href="/assets/js/53.336d30d8.js"><link rel="prefetch" href="/assets/js/54.382ffa0c.js"><link rel="prefetch" href="/assets/js/55.b022076f.js"><link rel="prefetch" href="/assets/js/56.d648021f.js"><link rel="prefetch" href="/assets/js/57.daee90c0.js"><link rel="prefetch" href="/assets/js/58.1dc75068.js"><link rel="prefetch" href="/assets/js/59.8e0aa66f.js"><link rel="prefetch" href="/assets/js/6.a104c4e0.js"><link rel="prefetch" href="/assets/js/60.5971fa7d.js"><link rel="prefetch" href="/assets/js/61.b5d38972.js"><link rel="prefetch" href="/assets/js/62.479ee1ec.js"><link rel="prefetch" href="/assets/js/63.9288134c.js"><link rel="prefetch" href="/assets/js/64.fd1fa594.js"><link rel="prefetch" href="/assets/js/65.6d7c8876.js"><link rel="prefetch" href="/assets/js/66.12eb7c68.js"><link rel="prefetch" href="/assets/js/67.ec6b9968.js"><link rel="prefetch" href="/assets/js/68.40a7cbed.js"><link rel="prefetch" href="/assets/js/69.1f663e2c.js"><link rel="prefetch" href="/assets/js/7.661a7c8f.js"><link rel="prefetch" href="/assets/js/70.a4b59650.js"><link rel="prefetch" href="/assets/js/71.d0a17b3b.js"><link rel="prefetch" href="/assets/js/72.ce31e327.js"><link rel="prefetch" href="/assets/js/73.689c681b.js"><link rel="prefetch" href="/assets/js/74.c3ee0764.js"><link rel="prefetch" href="/assets/js/75.631b23c2.js"><link rel="prefetch" href="/assets/js/76.5639d6d8.js"><link rel="prefetch" href="/assets/js/77.535d056c.js"><link rel="prefetch" href="/assets/js/78.4a10c037.js"><link rel="prefetch" href="/assets/js/79.1c4b1b82.js"><link rel="prefetch" href="/assets/js/8.cbcbaa9c.js"><link rel="prefetch" href="/assets/js/80.378f84af.js"><link rel="prefetch" href="/assets/js/81.cd50c718.js"><link rel="prefetch" href="/assets/js/82.fa313785.js"><link rel="prefetch" href="/assets/js/83.5a791c98.js"><link rel="prefetch" href="/assets/js/84.9deb80df.js"><link rel="prefetch" href="/assets/js/85.995a3a07.js"><link rel="prefetch" href="/assets/js/86.364d88cb.js"><link rel="prefetch" href="/assets/js/87.20848abb.js"><link rel="prefetch" href="/assets/js/88.b816d218.js"><link rel="prefetch" href="/assets/js/89.6bf9b49e.js"><link rel="prefetch" href="/assets/js/9.bbc07289.js"><link rel="prefetch" href="/assets/js/90.9e0ab005.js"><link rel="prefetch" href="/assets/js/91.5e91a1b3.js"><link rel="prefetch" href="/assets/js/92.64c206ac.js"><link rel="prefetch" href="/assets/js/93.8af7b9b1.js"><link rel="prefetch" href="/assets/js/94.83bb9556.js"><link rel="prefetch" href="/assets/js/95.1690cd1a.js"><link rel="prefetch" href="/assets/js/96.66883dcc.js"><link rel="prefetch" href="/assets/js/97.59f65ae5.js"><link rel="prefetch" href="/assets/js/98.0bf9d181.js"><link rel="prefetch" href="/assets/js/99.0fdea2a2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="一颗牙疼" class="logo"> <span class="site-name can-hide">一颗牙疼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/01.Java/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="https://github.com/Atoothache/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/01.Java/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="https://github.com/Atoothache/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务器</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Nginx</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/05.服务器/nginx/NGINX.html" class="sidebar-link">NGINX</a></li><li><a href="/05.服务器/nginx/nginx文档.html" class="active sidebar-link">简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#源码安装" class="sidebar-link">源码安装</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#yum安装" class="sidebar-link">yum安装</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#配置系统服务" class="sidebar-link">配置系统服务</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#配置环境变量" class="sidebar-link">配置环境变量</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#目录结构介绍" class="sidebar-link">目录结构介绍</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#kill信号操作" class="sidebar-link">kill信号操作</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#nginx命令" class="sidebar-link">nginx命令</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#全局块" class="sidebar-link">全局块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#events块" class="sidebar-link">events块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#http块" class="sidebar-link">http块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#server块" class="sidebar-link">server块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#location块" class="sidebar-link">location块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#解决跨域" class="sidebar-link">解决跨域</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#常用全局变量" class="sidebar-link">常用全局变量</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#set" class="sidebar-link">set</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#if" class="sidebar-link">if</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#break" class="sidebar-link">break</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#return" class="sidebar-link">return</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#rewrite" class="sidebar-link">rewrite</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#rewrite-log" class="sidebar-link">rewrite_log</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#正向代理" class="sidebar-link">正向代理</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#反向代理-2" class="sidebar-link">反向代理</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#proxy-set-header" class="sidebar-link">proxysetheader</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#proxy-redirect" class="sidebar-link">proxy_redirect</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#upstream" class="sidebar-link">upstream</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#负载均衡状态" class="sidebar-link">负载均衡状态</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#负载均衡策略" class="sidebar-link">负载均衡策略</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#申请阿里云证书" class="sidebar-link">申请阿里云证书</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#安装ssl模块" class="sidebar-link">安装ssl模块</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#进行配置" class="sidebar-link">进行配置</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#普通部署" class="sidebar-link">普通部署</a></li><li class="sidebar-sub-header"><a href="/05.服务器/nginx/nginx文档.html#整合jenkins、docker自动化部署" class="sidebar-link">整合Jenkins、Docker自动化部署</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Tomcat</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>脚本语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模板引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全认证</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>搜索引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分布式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Netty</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂文</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h1> <blockquote><p>什么是nginx</p></blockquote> <p>Nginx是一个高性能的HTTP和反向代理web服务器</p> <blockquote><p>安装要求</p></blockquote> <ul><li><p><code>linux</code>内核2.6及以上</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">uname</span> -a
</code></pre></div></li> <li><p>关闭防火墙</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 临时关闭防火墙</span>
systemctl stop firewalld
<span class="token comment"># 永久关闭防火墙</span>
systemctl disable firewalld
<span class="token comment"># 查看防火墙状态</span>
systemctl status firewalld
</code></pre></div></li></ul> <h1 id="安装nginx"><a href="#安装nginx" class="header-anchor">#</a> 安装nginx</h1> <h2 id="源码安装"><a href="#源码安装" class="header-anchor">#</a> 源码安装</h2> <blockquote><p>创建文件夹</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> /data
<span class="token builtin class-name">cd</span> /data
</code></pre></div><blockquote><p>安装依赖</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y gcc pcre-devel zlib-devel openssl-devel
</code></pre></div><blockquote><p>下载nginx</p></blockquote> <ul><li><p>官网下载<code>http://nginx.org/en/download.html</code></p></li> <li><p>直接在服务器下载</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> https://nginx.org/download/nginx-1.22.0.tar.gz
</code></pre></div></li></ul> <blockquote><p>进行配置</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>./configure <span class="token punctuation">\</span>
--prefix<span class="token operator">=</span>/usr/local/nginx <span class="token punctuation">\</span>
--sbin-path<span class="token operator">=</span>/usr/local/nginx/sbin/nginx <span class="token punctuation">\</span>
--modules-path<span class="token operator">=</span>/usr/local/nginx/modules <span class="token punctuation">\</span>
--conf-path<span class="token operator">=</span>/usr/local/nginx/conf/nginx.conf <span class="token punctuation">\</span>
--error-log-path<span class="token operator">=</span>/usr/local/nginx/logs/error.log <span class="token punctuation">\</span>
--http-log-path<span class="token operator">=</span>/usr/local/nginx/logs/access.log <span class="token punctuation">\</span>
--pid-path<span class="token operator">=</span>/usr/local/nginx/logs/nginx.pid
</code></pre></div><ul><li><p>配置文件详解</p> <table><thead><tr><th>--prefix=PATH</th> <th>nginx安装目录，默认/uar/local/nginx</th></tr></thead> <tbody><tr><td>--sbin-path=PATH</td> <td>可执行文件路径，默认<prefix>/sbin/nginx</prefix></td></tr> <tr><td>--modules-path=PATH</td> <td>动态模块的安装目录，默认<prefix>/modules</prefix></td></tr> <tr><td>--conf-path=PATH</td> <td>配置文件路径，默认<prefix>/conf/nginx.conf</prefix></td></tr> <tr><td>--error-log-path=PATH</td> <td>错误日志文件路径，默认<prefix>/logs/error.log</prefix></td></tr> <tr><td>--http-log-path=PATH</td> <td>日志文件路径，默认<prefix>/logs/access.log</prefix></td></tr> <tr><td>--pid-path=PATH</td> <td>进程id文件路径，默认<prefix>/logs/nginx.pid</prefix></td></tr></tbody></table></li></ul> <blockquote><p>进行安装</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><h2 id="yum安装"><a href="#yum安装" class="header-anchor">#</a> yum安装</h2> <blockquote><p>安装依赖</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y yum-utils
</code></pre></div><blockquote><p>编辑配置文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /etc/yum.repos.d/nginx.repo

<span class="token punctuation">[</span>nginx-stable<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx stable repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://nginx.org/keys/nginx_signing.key
<span class="token assign-left variable">module_hotfixes</span><span class="token operator">=</span>true

<span class="token punctuation">[</span>nginx-mainline<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx mainline repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/mainline/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://nginx.org/keys/nginx_signing.key
<span class="token assign-left variable">module_hotfixes</span><span class="token operator">=</span>true
</code></pre></div><blockquote><p>进行安装</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y nginx
</code></pre></div><blockquote><p>查看安装目录</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">whereis</span> nginx
</code></pre></div><h2 id="配置系统服务"><a href="#配置系统服务" class="header-anchor">#</a> 配置系统服务</h2> <blockquote><p>编辑文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /usr/lib/systemd/system/nginx.service
</code></pre></div><blockquote><p>添加以下内容</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>nginx web <span class="token function">service</span>
<span class="token assign-left variable">Documentation</span><span class="token operator">=</span>http://nginx.org/en/docs/
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">PIDFile</span><span class="token operator">=</span>/usr/local/nginx/logs/nginx.pid
<span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/nginx/sbin/nginx
<span class="token assign-left variable">ExecReload</span><span class="token operator">=</span>/usr/local/nginx/sbin/nginx -s reload
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/local/nginx/sbin/nginx -s stop
<span class="token assign-left variable">PrivateTmp</span><span class="token operator">=</span>true

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>default.target
</code></pre></div><h2 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h2> <blockquote><p>编辑环境变量</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /etc/profile
</code></pre></div><blockquote><p>最后一行添加以下内容</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/nginx/sbin
</code></pre></div><blockquote><p>刷新环境变量</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><h1 id="nginx操作"><a href="#nginx操作" class="header-anchor">#</a> nginx操作</h1> <h2 id="目录结构介绍"><a href="#目录结构介绍" class="header-anchor">#</a> 目录结构介绍</h2> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx
├── conf
│   ├── mime.types
│   ├── mime.types.default
│   ├── nginx.conf
│   ├── nginx.conf.default
├── html
│   ├── 50x.html
│   └── index.html
├── logs
│   ├── access.log
│   ├── error.log
│   └── nginx.pid
├── sbin
│   └── nginx
</code></pre></div><h2 id="kill信号操作"><a href="#kill信号操作" class="header-anchor">#</a> kill信号操作</h2> <blockquote><p>查看nginx进程</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> nginx
</code></pre></div><blockquote><p>立即关闭</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> -term/int <span class="token function">id</span>
</code></pre></div><blockquote><p>优雅地关闭</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> -quit <span class="token function">id</span>
</code></pre></div><blockquote><p>重新加载配置文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> -hup <span class="token function">id</span>
</code></pre></div><blockquote><p>重写日志文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> -usr1 <span class="token function">id</span>
</code></pre></div><blockquote><p>平滑升级</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> -usr2 <span class="token function">id</span>
</code></pre></div><h2 id="nginx命令"><a href="#nginx命令" class="header-anchor">#</a> nginx命令</h2> <blockquote><p>查看帮助</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -?
nginx -h
</code></pre></div><p>打印内容如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Options:
  -?,-h         <span class="token builtin class-name">:</span> this <span class="token builtin class-name">help</span>
  -v            <span class="token builtin class-name">:</span> show version and <span class="token builtin class-name">exit</span>
  -V            <span class="token builtin class-name">:</span> show version and configure options <span class="token keyword">then</span> <span class="token builtin class-name">exit</span>
  -t            <span class="token builtin class-name">:</span> <span class="token builtin class-name">test</span> configuration and <span class="token builtin class-name">exit</span>
  -T            <span class="token builtin class-name">:</span> <span class="token builtin class-name">test</span> configuration, dump it and <span class="token builtin class-name">exit</span>
  -q            <span class="token builtin class-name">:</span> suppress non-error messages during configuration testing
  -s signal     <span class="token builtin class-name">:</span> send signal to a master process: stop, quit, reopen, reload
  -p prefix     <span class="token builtin class-name">:</span> <span class="token builtin class-name">set</span> prefix path <span class="token punctuation">(</span>default: /usr/local/nginx/<span class="token punctuation">)</span>
  -e filename   <span class="token builtin class-name">:</span> <span class="token builtin class-name">set</span> error log <span class="token function">file</span> <span class="token punctuation">(</span>default: logs/error.log<span class="token punctuation">)</span>
  -c filename   <span class="token builtin class-name">:</span> <span class="token builtin class-name">set</span> configuration <span class="token function">file</span> <span class="token punctuation">(</span>default: conf/nginx.conf<span class="token punctuation">)</span>
  -g directives <span class="token builtin class-name">:</span> <span class="token builtin class-name">set</span> global directives out of configuration <span class="token function">file</span>
</code></pre></div><blockquote><p>查看版本号</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -v
</code></pre></div><blockquote><p>查看版本号和安装时的配置信息</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -V
</code></pre></div><blockquote><p>测试配置文件语法</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -t
</code></pre></div><blockquote><p>测试配置文件语法，如果成功则输出文件内容</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -T
</code></pre></div><blockquote><p>发送信号</p></blockquote> <ul><li><p>强制关闭，相当于<code>kill -term/int</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -s stop
</code></pre></div></li> <li><p>优雅关闭，相当于<code>kill -quit</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -s quit
</code></pre></div></li> <li><p>重新打开日志文件，相当于<code>kill -usr1</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -s reopen
</code></pre></div></li> <li><p>重新加载配置文件，相当于<code>kill -hup</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -s reload
</code></pre></div></li></ul> <h1 id="配置文件详解"><a href="#配置文件详解" class="header-anchor">#</a> 配置文件详解</h1> <h2 id="全局块"><a href="#全局块" class="header-anchor">#</a> 全局块</h2> <table><thead><tr><th>全局指令</th> <th>可选值</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>user</td> <td>用户名</td> <td></td> <td>指定用户</td></tr> <tr><td>master_process</td> <td>on/off</td> <td>on</td> <td>是否开启工作进程worker，配置完要重启nginx</td></tr> <tr><td>worker_processes</td> <td>数字</td> <td></td> <td>worker进程数量，建议配置成cpu的数量，master_process开启才有用</td></tr> <tr><td>daemon</td> <td>on/off</td> <td>on</td> <td>是否以守护进程方式启动</td></tr> <tr><td>pid</td> <td></td> <td>logs/nginx.pid</td> <td>pid路径</td></tr> <tr><td>error_log</td> <td></td> <td></td> <td>日志级别，debug、info、notice、warn、error、crit</td></tr> <tr><td>include</td> <td></td> <td></td> <td>引入配置文件</td></tr></tbody></table> <h2 id="events块"><a href="#events块" class="header-anchor">#</a> events块</h2> <table><thead><tr><th>指令</th> <th>可选值</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>worker_connections</td> <td></td> <td>512</td> <td>单个worker进程最大连接数</td></tr> <tr><td>accept_mutex</td> <td>on/off</td> <td>on</td> <td>是否开启序列化，一个一个唤醒接收</td></tr> <tr><td>multi_accept</td> <td>on/off</td> <td>off</td> <td>是否允许同时接收多个网络连接</td></tr> <tr><td>use</td> <td>select/poll/epoll/kqueue</td> <td>根据操作系统定</td> <td>使用哪种事件驱动来处理网络消息</td></tr></tbody></table> <h2 id="http块"><a href="#http块" class="header-anchor">#</a> http块</h2> <blockquote><p>default_type</p></blockquote> <p>设置响应的MIME类型</p> <p>语法：<code>default_type mime-type</code></p> <p>默认：<code>default_type text/plain</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code></p> <blockquote><p>access_log</p></blockquote> <p>日志输出路径</p> <p>语法：<code>access_log path [format]</code></p> <p>默认：<code>logs/access.log</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code>, <code>if in location</code></p> <blockquote><p>log_format</p></blockquote> <p>日志格式化</p> <p>语法：<code>log_format name value</code></p> <p>作用域：<code>http</code></p> <blockquote><p>sendfile</p></blockquote> <p>底层使用<code>sendfile</code>发送文件</p> <p>语法：<code>sendfile on|off</code></p> <p>默认：<code>off</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code>,<code>if in location</code></p> <blockquote><p>keepalive_timeout</p></blockquote> <p>tcp长连接超时时间</p> <p>语法：<code>keepalive_timeout timeout</code></p> <p>默认：75，不写单位默认是s</p> <p>作用域：<code>http</code>, <code>server</code>,<code>location</code></p> <blockquote><p>keepalive_requests</p></blockquote> <p>一个连接使用次数</p> <p>语法：<code>keepalive_requests number</code></p> <p>默认：100</p> <p>作用域：<code>http</code>, <code>server</code>,<code>location</code></p> <h2 id="server块"><a href="#server块" class="header-anchor">#</a> server块</h2> <blockquote><p>listen</p></blockquote> <p>监听的端口</p> <p>语法：<code>listen port</code></p> <p>作用域：<code>server</code></p> <blockquote><p>server_name</p></blockquote> <p>监听当前的ip或域名</p> <p>语法：<code>server_name name ...</code></p> <p>作用域：<code>server</code></p> <h2 id="location块"><a href="#location块" class="header-anchor">#</a> location块</h2> <h3 id="location"><a href="#location" class="header-anchor">#</a> location</h3> <blockquote><p>模糊匹配</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code>location /aaa
</code></pre></div><blockquote><p>精确匹配</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code>location =/aaa
</code></pre></div><blockquote><p>正则匹配（区分大小写）</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code>location ~^/aaa$
</code></pre></div><blockquote><p>正则匹配（不区分大小写）</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code>location ~*^/aaa$
</code></pre></div><p>注意：?后面的值不参与<code>location</code>匹配</p> <h3 id="root"><a href="#root" class="header-anchor">#</a> root</h3> <p>资源文件目录，会拼上location的值，默认<code>root html</code></p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token directive"><span class="token keyword">location</span> /aaa</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="alias"><a href="#alias" class="header-anchor">#</a> alias</h3> <p>资源文件目录</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">alias</span> html/</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token directive"><span class="token keyword">location</span> /aaa</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">alias</span> html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意：如果location匹配值以/结尾，那么alias也要以/结尾</p> <h3 id="index"><a href="#index" class="header-anchor">#</a> index</h3> <p>默认文件</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">index</span> index.htm index.html aaa.html bbb.html</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="error-page"><a href="#error-page" class="header-anchor">#</a> error_page</h3> <p>页面发生错误时跳转的路径</p> <blockquote><p>写法1</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code>error_page 404 https://www.baidu.com
</code></pre></div><blockquote><p>写法2</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">root</span> aaa</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> @error</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">location</span> @error</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">'this is 404'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="try-files"><a href="#try-files" class="header-anchor">#</a> try_files</h3> <p>尝试着找文件</p> <p>/1.html</p> <p>/1.html/index.html</p> <p>/index.html</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html</span><span class="token punctuation">;</span>
</code></pre></div><p>尝试去找<code>$uri</code>这个文件，找不到<code>$uri</code>就去<code>$uri/</code>下的<code>index.html</code>文件，找不到就请求<code>/index.html</code></p> <h2 id="解决跨域"><a href="#解决跨域" class="header-anchor">#</a> 解决跨域</h2> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
   <span class="token directive"><span class="token keyword">listen</span> <span class="token number">7089</span></span><span class="token punctuation">;</span>
   <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
      <span class="token directive"><span class="token keyword">proxy_pass</span> http://localhost:8089</span><span class="token punctuation">;</span>
      <span class="token directive"><span class="token keyword">add_header</span> Access-Control-Allow-Origin *</span><span class="token punctuation">;</span>
      <span class="token directive"><span class="token keyword">add_header</span> Access-Control-Allow-Methods *</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="rewrite模块详解"><a href="#rewrite模块详解" class="header-anchor">#</a> rewrite模块详解</h1> <h2 id="常用全局变量"><a href="#常用全局变量" class="header-anchor">#</a> 常用全局变量</h2> <table><thead><tr><th>变量</th> <th>说明</th></tr></thead> <tbody><tr><td>$args</td> <td>变量中存放了请求URL中的请求参数。比如http://192.168.200.133/server?arg1=value1&amp;args2=value2中的&quot;arg1=value1&amp;arg2=value2&quot;，功能和$query_string一样</td></tr> <tr><td>$http_user_agent</td> <td>变量存储的是用户访问服务的代理信息(如果通过浏览器访问，记录的是浏览器的相关版本信息)</td></tr> <tr><td>$host</td> <td>变量存储的是访问服务器的server_name值</td></tr> <tr><td>$document_uri</td> <td>变量存储的是当前访问地址的URI。比如http://192.168.200.133/server?id=10&amp;name=zhangsan中的&quot;/server&quot;，功能和$uri一样</td></tr> <tr><td>$document_root</td> <td>变量存储的是当前请求对应location的root值，如果未设置，默认指向Nginx自带html目录所在位置</td></tr> <tr><td>$content_length</td> <td>变量存储的是请求头中的Content-Length的值</td></tr> <tr><td>$content_type</td> <td>变量存储的是请求头中的Content-Type的值</td></tr> <tr><td>$http_cookie</td> <td>变量存储的是客户端的cookie信息，可以通过add_header Set-Cookie 'cookieName=cookieValue'来添加cookie数据</td></tr> <tr><td>$limit_rate</td> <td>变量中存储的是Nginx服务器对网络连接速率的限制，也就是Nginx配置中对limit_rate指令设置的值，默认是0，不限制。</td></tr> <tr><td>$remote_addr</td> <td>变量中存储的是客户端的IP地址</td></tr> <tr><td>$remote_port</td> <td>变量中存储了客户端与服务端建立连接的端口号</td></tr> <tr><td>$remote_user</td> <td>变量中存储了客户端的用户名，需要有认证模块才能获取</td></tr> <tr><td>$scheme</td> <td>变量中存储了访问协议</td></tr> <tr><td>$server_addr</td> <td>变量中存储了服务端的地址</td></tr> <tr><td>$server_name</td> <td>变量中存储了客户端请求到达的服务器的名称</td></tr> <tr><td>$server_port</td> <td>变量中存储了客户端请求到达服务器的端口号</td></tr> <tr><td>$server_protocol</td> <td>变量中存储了客户端请求协议的版本，比如&quot;HTTP/1.1&quot;</td></tr> <tr><td>$request_body_file</td> <td>变量中存储了发给后端服务器的本地文件资源的名称</td></tr> <tr><td>$request_method</td> <td>变量中存储了客户端的请求方式，比如&quot;GET&quot;,&quot;POST&quot;等</td></tr> <tr><td>$request_filename</td> <td>变量中存储了当前请求的资源文件的路径名</td></tr> <tr><td>$request_uri</td> <td>变量中存储了当前请求的URI，并且携带请求参数，比如http://192.168.200.133/server?id=10&amp;name=zhangsan中的&quot;/server?id=10&amp;name=zhangsan&quot;</td></tr></tbody></table> <h2 id="set"><a href="#set" class="header-anchor">#</a> set</h2> <p>设置变量</p> <p>语法：<code>set $variable value</code></p> <p>作用域：<code>server</code>, <code>location</code>, <code>if</code></p> <h2 id="if"><a href="#if" class="header-anchor">#</a> if</h2> <p>条件判断</p> <p>语法：<code>if (condition) {}</code></p> <p>作用域：<code>server</code>, <code>location</code></p> <h2 id="break"><a href="#break" class="header-anchor">#</a> break</h2> <p>语法：<code>break</code></p> <p>作用域：<code>server</code>, <code>location</code>, <code>if</code></p> <h2 id="return"><a href="#return" class="header-anchor">#</a> return</h2> <p>语法：<code>return code URL</code> <code>return [text]</code> <code>return URL</code></p> <p>作用域：<code>server</code>, <code>location</code>, <code>if</code></p> <h2 id="rewrite"><a href="#rewrite" class="header-anchor">#</a> rewrite</h2> <p>对请求的uri进行重写</p> <p>语法：<code>rewrite regex replacement [flag]</code></p> <p>作用域：<code>server</code>, <code>location</code>, <code>if</code></p> <blockquote><p>flag可选值</p></blockquote> <ul><li><p>last</p> <p>停止当前location的执行，拿着uri重新去匹配location</p></li> <li><p>break</p> <p>停止当前location的执行，会在当前location去找对应的资源</p></li> <li><p>redirect</p> <p>临时重定向</p></li> <li><p>permanent</p> <p>永久重定向</p></li></ul> <blockquote><p>使用示例</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">rewrite</span> /1.html /2.html last</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">rewrite</span> /2.html /3.html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> /2.html</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">rewrite</span> /2.html /a.html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> /3.html</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">rewrite</span> /3.html /b.html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="rewrite-log"><a href="#rewrite-log" class="header-anchor">#</a> rewrite_log</h2> <p>打印rewrite日志</p> <p>语法：<code>rewrite_log on | off</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code>, <code>if</code></p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">rewrite_log</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">error_log</span> logs/error.log notice</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="反向代理"><a href="#反向代理" class="header-anchor">#</a> 反向代理</h1> <h2 id="正向代理"><a href="#正向代理" class="header-anchor">#</a> 正向代理</h2> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://10.8.0.61</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="反向代理-2"><a href="#反向代理-2" class="header-anchor">#</a> 反向代理</h2> <blockquote><p>被代理服务器</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">root</span>   html</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>代理服务器</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://192.168.100.128</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="proxy-set-header"><a href="#proxy-set-header" class="header-anchor">#</a> proxy_set_header</h2> <p>设置请求头信息</p> <p>语法：<code>proxy_set_header field value</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code></p> <h2 id="proxy-redirect"><a href="#proxy-redirect" class="header-anchor">#</a> proxy_redirect</h2> <p>将被代理服务器的重定向地址替换成代理服务器的地址</p> <p>语法：<code>proxy_redirect redirect replacement</code></p> <p>作用域：<code>http</code>, <code>server</code>, <code>location</code></p> <blockquote><p>被代理服务器</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">events</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
                        <span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
                        <span class="token directive"><span class="token keyword">index</span> index.html</span><span class="token punctuation">;</span>
                        <span class="token directive"><span class="token keyword">if</span> (!-f <span class="token variable">$request_filename</span>)</span> <span class="token punctuation">{</span>
                                <span class="token directive"><span class="token keyword">return</span> <span class="token number">302</span> http://192.168.100.128:81</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">listen</span> <span class="token number">81</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
                        <span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
                        <span class="token directive"><span class="token keyword">index</span> index.html</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>代理服务器</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">events</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
                        <span class="token directive"><span class="token keyword">proxy_redirect</span> http://192.168.100.128 http://192.168.100.3</span><span class="token punctuation">;</span>
                        <span class="token directive"><span class="token keyword">proxy_pass</span> http://192.168.100.128</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">listen</span> <span class="token number">81</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
                        <span class="token directive"><span class="token keyword">proxy_pass</span> http://192.168.100.128:81</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="负载均衡"><a href="#负载均衡" class="header-anchor">#</a> 负载均衡</h1> <h2 id="upstream"><a href="#upstream" class="header-anchor">#</a> upstream</h2> <p>定义一组服务器</p> <p>语法：<code>upstram name {}</code></p> <p>作用域：<code>http</code></p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_pass</span> http://myserver</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="负载均衡状态"><a href="#负载均衡状态" class="header-anchor">#</a> 负载均衡状态</h2> <table><thead><tr><th>down</th> <th>不参与负载均衡</th></tr></thead> <tbody><tr><td>backup</td> <td>备份服务器，当其他服务器挂掉了，才会启用备份服务器</td></tr> <tr><td>max_fails</td> <td>允许请求失败的次数，默认是1</td></tr> <tr><td>fail_timeout</td> <td>max_fails失败后，多少秒之内不访问失败的服务器，默认10秒</td></tr></tbody></table> <h2 id="负载均衡策略"><a href="#负载均衡策略" class="header-anchor">#</a> 负载均衡策略</h2> <blockquote><p>weight</p></blockquote> <p>分配权重</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:80 weight=3</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81 weight=7</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82 weight=10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ip_hash</p></blockquote> <p>一个ip固定被分配到某一台服务器</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">ip_hash</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:80</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>url_hash</p></blockquote> <p>同一个url固定分配到某一台服务器</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">hash</span> <span class="token variable">$request_uri</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>least_conn</p></blockquote> <p>把请求分配到连接最少的服务器上</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:80</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="负载均衡之fair策略"><a href="#负载均衡之fair策略" class="header-anchor">#</a> 负载均衡之fair策略</h1> <p>根据页面大小、加载时间等智能分配服务器</p> <blockquote><p>下载fair</p></blockquote> <p>下载地址：<code>https://github.com/gnosek/nginx-upstream-fair</code></p> <blockquote><p>上传到服务器解压缩并重命名</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">unzip</span> nginx-upstream-fair-master.zip
<span class="token function">mv</span> nginx-upstream-fair-master fair
</code></pre></div><blockquote><p>编辑nginx源码文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /data/nginx-1.22.0/src/http/ngx_http_upstream.h
</code></pre></div><p>找到<code>struct ngx_http_upstream_srv_conf_s</code>结构体</p> <p>加上<code>in_port_t default_port;</code></p> <blockquote><p>进入nginx安装目录</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /data/nginx-1.22.0
</code></pre></div><blockquote><p>进行配置</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>./configure --add-module<span class="token operator">=</span>/data/nginx-1.22.0/modules/fair
</code></pre></div><blockquote><p>进行编译</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span>
</code></pre></div><blockquote><p>删除之前的nginx二进制文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> -rf /usr/local/nginx/sbin/nginx
</code></pre></div><blockquote><p>复制新的二进制文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cp</span> objs/nginx /usr/local/nginx/sbin
</code></pre></div><blockquote><p>进行平滑升级</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> upgrade
</code></pre></div><blockquote><p>使用fair策略</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">upstream</span> myserver</span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">fair</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server</span> 192.168.100.128:80</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server</span> 192.168.100.128:81</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server</span> 192.168.100.128:82</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="配置https"><a href="#配置https" class="header-anchor">#</a> 配置https</h1> <h2 id="申请阿里云证书"><a href="#申请阿里云证书" class="header-anchor">#</a> 申请阿里云证书</h2> <blockquote><p>到域名控制台解析域名</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>https://dc.console.aliyun.com/next/index#/domain-list/all
</code></pre></div><blockquote><p>购买SSL证书</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>https://common-buy.aliyun.com/?commodityCode=cas_dv_public_cn
</code></pre></div><blockquote><p>申请证书</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>https://yundunnext.console.aliyun.com/?p=casnext#/certExtend
</code></pre></div><blockquote><p>下载证书，并上传到服务器</p></blockquote> <h2 id="安装ssl模块"><a href="#安装ssl模块" class="header-anchor">#</a> 安装ssl模块</h2> <blockquote><p>进入到nginx安装包目录</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /data/nginx-1.22.0
</code></pre></div><blockquote><p>清除之前编译的文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> clean
</code></pre></div><blockquote><p>重新配置</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>./configure --with-http_ssl_module
</code></pre></div><blockquote><p>重新编译</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span>
</code></pre></div><blockquote><p>删除之前的二进制文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> -rf /usr/local/nginx/sbin/nginx
</code></pre></div><blockquote><p>复制二进制文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cp</span> objs/nginx /usr/local/nginx/sbin
</code></pre></div><blockquote><p>进行平滑升级</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> upgrade
</code></pre></div><h2 id="进行配置"><a href="#进行配置" class="header-anchor">#</a> 进行配置</h2> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token comment"># https默认端口是443</span>
<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">443</span> ssl</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span>
 
    <span class="token comment"># 证书路径</span>
    <span class="token directive"><span class="token keyword">ssl_certificate</span> cert/server.crt</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_certificate_key</span> cert/server.key</span><span class="token punctuation">;</span>
 
    <span class="token directive"><span class="token keyword">ssl_session_timeout</span> <span class="token number">5m</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_protocols</span> TLSv1 TLSv1.1 TLSv1.2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_prefer_server_ciphers</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token comment"># 代理地址，就是实际要访问的地址</span>
    	<span class="token directive"><span class="token keyword">proxy_pass</span> https://www.baidu.com</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># 将http://localhost重定向到https://localhost</span>
<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token number">301</span> https://192.168.100.3<span class="token variable">$request_uri</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="部署前端项目"><a href="#部署前端项目" class="header-anchor">#</a> 部署前端项目</h1> <h2 id="普通部署"><a href="#普通部署" class="header-anchor">#</a> 普通部署</h2> <blockquote><p>若依官网拉取代码</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>https://gitee.com/y_project/RuoYi-Vue
</code></pre></div><blockquote><p>安装依赖</p></blockquote> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm install
</code></pre></div><blockquote><p>打包后上传到服务器上</p></blockquote> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm run build:prod
</code></pre></div><p>打包完成后会生成dist文文件夹，将dist文件夹上传到服务器上</p> <blockquote><p>编辑配置文件</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">events</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">include</span> mime.types</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
                        <span class="token directive"><span class="token keyword">root</span> /usr/local/nginx/html/dist</span><span class="token punctuation">;</span>
                        <span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        
                <span class="token comment"># 配置后端地址</span>
                <span class="token directive"><span class="token keyword">location</span> /prod-api</span> <span class="token punctuation">{</span>
                        <span class="token comment"># 转发到后端地址</span>
                        <span class="token directive"><span class="token keyword">proxy_pass</span> http://localhost:8081</span><span class="token punctuation">;</span>
                        <span class="token comment"># 去掉/prod-api</span>
                        <span class="token directive"><span class="token keyword">rewrite</span> ^/prod-api/(.*)$ /<span class="token variable">$1</span> break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>重新加载配置文件</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>nginx -s reload
</code></pre></div><h2 id="整合jenkins、docker自动化部署"><a href="#整合jenkins、docker自动化部署" class="header-anchor">#</a> 整合Jenkins、Docker自动化部署</h2> <blockquote><p>编写nginx配置文件</p></blockquote> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">81</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> /dist</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token directive"><span class="token keyword">location</span> /prod-api</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_pass</span> https://www.linzhehao.cn</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">rewrite</span> ^/prod-api/(.*)$ /ruoyi/<span class="token variable">$1</span> break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>编写dockerignore</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>node_modules
src
public
</code></pre></div><blockquote><p>编写Dockerfile</p></blockquote> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> nginx:1.22.0</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 81</span>
<span class="token instruction"><span class="token keyword">ENV</span> LC_ALL=C.UTF-8</span>
<span class="token instruction"><span class="token keyword">RUN</span> rm -rf /etc/nginx/conf.d/default.conf</span>
<span class="token instruction"><span class="token keyword">COPY</span> nginx.conf /etc/nginx/conf.d/</span>
<span class="token instruction"><span class="token keyword">COPY</span> dist/ /dist/</span>
</code></pre></div><blockquote><p>编写Jenkins脚本</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run build:prod
<span class="token function">docker</span> <span class="token function">rm</span> ruoyi-ui -f
<span class="token function">docker</span> build -t ruoyi-ui <span class="token builtin class-name">.</span>
<span class="token function">docker</span> run -d --name ruoyi-ui -p <span class="token number">81</span>:81 ruoyi-ui
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/05.服务器/nginx/NGINX.html" class="prev">
        NGINX
      </a></span> <span class="next"><a href="/05.服务器/tomcat/ServletContainerInitializer的原理.html">
        ServletContainerInitializer的原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f1b473bd.js" defer></script><script src="/assets/js/2.fe0fd2e3.js" defer></script><script src="/assets/js/47.5dce1505.js" defer></script>
  </body>
</html>

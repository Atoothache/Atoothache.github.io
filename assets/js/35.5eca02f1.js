(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{306:function(p,a,r){"use strict";r.r(a);var e=r(13),t=Object(e.a)({},(function(){var p=this,a=p._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":p.$parent.slotKey}},[a("h1",{attrs:{id:"springboot是怎么扫描mapper类的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springboot是怎么扫描mapper类的"}},[p._v("#")]),p._v(" SpringBoot是怎么扫描Mapper类的")]),p._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/zhenghuangyu/article/details/90452210",target:"_blank",rel:"noopener noreferrer"}},[p._v("MybatisAutoConfiguration 分析"),a("OutboundLink")],1)]),p._v(" "),a("h3",{attrs:{id:"mapper和-mapperscan注解以及共存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mapper和-mapperscan注解以及共存"}},[p._v("#")]),p._v(" @Mapper和@MapperScan注解以及共存")]),p._v(" "),a("h4",{attrs:{id:"_1、-mapper、-mapperscan注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-mapper、-mapperscan注解"}},[p._v("#")]),p._v(" 1、@Mapper、@MapperScan注解")]),p._v(" "),a("p",[p._v("@Mapper注解:")]),p._v(" "),a("p",[p._v("使用:直接在接口类上使用,包是:org.apache.ibatis.annotations.Mapper")]),p._v(" "),a("p",[p._v("作用:为有此注解的接口生成动态代理类，并且注入到spring容器中。")]),p._v(" "),a("p",[p._v("@MapperScan注解:")]),p._v(" "),a("p",[p._v("使用:在启动类上配置，配置的是持久层接口的包路径，标注批量生成此包下的接口的动态代理类，并且注入到容器中。")]),p._v(" "),a("h4",{attrs:{id:"_2、报错使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、报错使用场景"}},[p._v("#")]),p._v(" 2、报错使用场景")]),p._v(" "),a("p",[p._v("问题描述:使用的是mybatis-plus和springmvc、spring、springboot、springcloud,在dao也就是Mapper接口上配置了@Mapper注解，当时不知道启动类还配置了@MapperScan注解，进行批量指定所生成的Mapper接口动态代理接口类，所以开始的时候没有在@MapperScan直接我新建的dao包，就报错，但是有@Mapper注解。")]),p._v(" "),a("p",[p._v("1、只使用@Mapper注解，不使用@MapperScan注解。会扫描@Mapper注解所在接口，生成动态代理类，注入到Spring容器中。")]),p._v(" "),a("p",[p._v("2、只使用@MapperScan注解，不使用@Mapper注解。会扫描@MapperScan注解配置的包下面的接口生成动态代理类，注入到Spring容器中。")]),p._v(" "),a("p",[p._v("3、@Mapper、@MapperScan注解都使用，@Mapper接口，在@MapperScan注解中有配置包路径，那么可以正常使用。")]),p._v(" "),a("p",[p._v("4、@Mapper、@MapperScan注解都使用，@Mapper接口，在@MapperScan注解中没有配置包路径，那么会报错，解决办法，就是在@MapperScan注解中配置正确路径下的包即可。")])])}),[],!1,null,null,null);a.default=t.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{344:function(_,a,t){"use strict";t.r(a);var e=t(13),n=Object(e.a)({},(function(){var _=this,a=_._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[a("h1",{attrs:{id:"oracle与达梦区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oracle与达梦区别"}},[_._v("#")]),_._v(" oracle与达梦区别")]),_._v(" "),a("p",[_._v("1.varchar2长度  oracle：4000   达梦：8000以上")]),_._v(" "),a("p",[_._v("2.oracle：nvl函数    达梦：isnull函数")]),_._v(" "),a("p",[_._v("3.编码不同")]),_._v(" "),a("p",[_._v("（1）达梦查看字符集：SELECT '字符集',DECODE(UNICODE,'0','GB18030','1','UTF-8','2','EUC-KR');")]),_._v(" "),a("p",[_._v("默认支持的字符集包括三种，分别是GB18030、UTF-8及EUC-KR")]),_._v(" "),a("p",[_._v("三种字符集区别如下：")]),_._v(" "),a("p",[_._v("如果数据库字符集使用gbk，则2个字节表示一个中文；")]),_._v(" "),a("p",[_._v("如果数据库字符集使用utf-8，则3个字节表示一个中文；")]),_._v(" "),a("p",[_._v("如果数据库字符集使用EUC-KR，则说明字符集为韩文字符集。")]),_._v(" "),a("p",[_._v("（2）oracle查看字符集：select * from  nls_database_parameters where parameter like 'NLS_CHARACTERSET';")]),_._v(" "),a("p",[_._v("ZHS16GBK  ：中文两字节")]),_._v(" "),a("p",[_._v("AL32UTF8 ： 中文三字节")]),_._v(" "),a("p",[_._v("问题：导致varchar2限制的长度不够")]),_._v(" "),a("p",[_._v("4.timestamp日期格式插入数据时，")]),_._v(" "),a("p",[_._v("达梦允许：inert into table （date） values（'2021-12-06 17:02:39'）；")]),_._v(" "),a("p",[_._v("oracle不允许，必须用to_date函数，或sysdate ：inert into table （date） values（TO_DATE('2021-12-06 17:02:39', 'YYYY-MM-DD HH24:MI:SS')）；")]),_._v(" "),a("p",[_._v("注意：oracle的date类型也是必须按照日期类型存入，不能用字符串。达梦的data与mysql一样只表示年月日")]),_._v(" "),a("p",[_._v("问题：达梦DTS用dm==>sql导出的timstamp是字符串格式如：'2021-12-06 17:02:39'，无法直接插入到oracle。需要加上TO_DATE函数，数据那么多，怎么加？？？？")]),_._v(" "),a("p",[_._v("目前是用DTS工具 的 dm==>oracle直接导到oracle是没问题。")]),_._v(" "),a("p",[_._v("oracle字符集zhs16gbk和al32utf8有什么区别?")]),_._v(" "),a("p",[_._v("zhs16gbk是中文字符集，也就是适合在中国用，只能存储中文和英文字符，如果你存储韩文则显示为乱码（没有编码），而al32utf8是utf8字符集，u是unicode的意思，适合中文、韩语、日语等等不同的语言使用。那么为什么我们要在中国使用zhs16gbk存储中文呢？这是因为utf8存储中文的效率不如zhs16gbk，比如一个字“懂”，zhs16gbk采用2个字符存储，而al32utf8采用3-4个字符存储，这样效率就有了高低之分。")]),_._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[_._v("CREATE OR REPLACE FUNCTION BLOB_TO_HEXSTR (blob_in IN BLOB, start_index in integer)\nRETURN VARCHAR2\nIS\nv_varchar VARCHAR2(4000);\nv_start PLS_INTEGER := start_index * 2000 + 1;\nv_buffer PLS_INTEGER := 2000;\n\nBEGIN\n–select userenv(‘LANGUAGE’) into g_nls_db_char from dual;\n\nif DBMS_LOB.GETLENGTH(blob_in) is null then\nreturn empty_clob();\nend if;\n\nDBMS_OUTPUT.put_line(‘TEST:’ || CEIL(DBMS_LOB.GETLENGTH(blob_in)));\n\n–DBMS_LOB.CREATETEMPORARY(v_clob, TRUE);\n\nv_varchar := DBMS_LOB.SUBSTR(blob_in, v_buffer, v_start);\n\n–DBMS_LOB.WRITEAPPEND(v_clob, LENGTH(v_varchar), v_varchar);\n\n–DBMS_OUTPUT.put_line(v_varchar);\n\nRETURN v_varchar;\nend BLOB_TO_HEXSTR;\n\n方法使用：SELECT BLOB_TO_HEXSTR(EMPLOYEE_PHOTO, 0) FROM TABLE_NAME WHERE XDF_EP_PERIOD_ID = ‘%%’ AND EMPLID = ‘%%’\n————————————————\n版权声明：本文为CSDN博主「风扬飞絮」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\n原文链接：https://blog.csdn.net/sky_20131213/article/details/79191534\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);
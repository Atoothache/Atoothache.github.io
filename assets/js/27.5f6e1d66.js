(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{298:function(e,_,n){"use strict";n.r(_);var t=n(13),v=Object(t.a)({},(function(){var e=this,_=e._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"对mysql的explain中extra-using-where的理解"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#对mysql的explain中extra-using-where的理解"}},[e._v("#")]),e._v(" 对MYSQL的explain中extra using where的理解")]),e._v(" "),_("p",[e._v("explain select "),_("code",[e._v("pwd")]),e._v(" from "),_("code",[e._v("lb_user_5")]),e._v(" where  "),_("code",[e._v("join_index_1")]),e._v(" = 'fsda';")]),e._v(" "),_("p",[e._v("-> extra的值为NULL，key表示用了索引；")]),e._v(" "),_("p",[e._v("-> 因为联合索引嘛，所以在存储引擎层就利用where条件找到了相应的记录，然后回表，再取出pwd值，所以server层是不需要再使用where条件过滤的；")]),e._v(" "),_("p",[e._v("explain select "),_("code",[e._v("join_index_2")]),e._v(" from "),_("code",[e._v("lb_user_5")]),e._v(" where  "),_("code",[e._v("join_index_1")]),e._v(" = 'fsda';")]),e._v(" "),_("p",[e._v("-> extra的值为using index，使用了联合索引；")]),e._v(" "),_("p",[e._v("-> 这个和上面类似，只是不需要回表，直接扫描联合索引树就可以了，where条件还是在存储引擎层过滤的；")]),e._v(" "),_("p",[e._v("explain select "),_("code",[e._v("join_index_1")]),e._v(" from "),_("code",[e._v("lb_user_5")]),e._v(" where  "),_("code",[e._v("join_index_2")]),e._v(" = 'fsda';")]),e._v(" "),_("p",[e._v("-> extra的值为using where;using index，依然使用了联合索引；")]),e._v(" "),_("p",[e._v("-> 首先这个不符合最左匹配，按理说是不能使用联合索引的，但这里的select值决定了是可以使用的；因为我们要select的值也正好在这个联合索引树中，所以mysql会直接扫描这个联合索引树，而不会全表扫描；而这里是需要using where的，因为join_index_2在这个联合索引中是没有排好序的（不明白的就去查一下“最左匹配原则”），所以必须对这棵联合索引树进行“全表扫描”，存储引擎层扫描完后将所有的结果发送到了服务器层，这时服务器层需要使用"),_("code",[e._v("join_index_2")]),e._v(" = 'fsda'来进行过滤，所以就有了using where；")]),e._v(" "),_("p",[e._v("另外提一下，我在自己做实验之前也在看了其他的一些文章，例如这一篇")]),e._v(" "),_("p",[e._v("https://blog.csdn.net/jeffrey11223/article/details/79100761")]),e._v(" "),_("p",[e._v("但我在5.7中用他的sql实验发现")]),e._v(" "),_("p",[e._v("explain select aaa from table where xxx=’something’和 explain select yyy from table where xxx=’something’\n都没有using where；\n我不知道是版本的原因还是什么；")]),e._v(" "),_("p",[e._v("所以说，实践才是检验真理的唯一标准，大家一定要自己去试试，说不定会有意外的发现。\nNote that the development build is not optimized.")])])}),[],!1,null,null,null);_.default=v.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{328:function(n,_,v){"use strict";v.r(_);var p=v(13),l=Object(p.a)({},(function(){var n=this,_=n._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[_("h1",{attrs:{id:"nginx安装"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装"}},[n._v("#")]),n._v(" NGINX安装")]),n._v(" "),_("p",[_("a",{attrs:{href:"https://blog.csdn.net/weixin_44572623/article/details/128405992",target:"_blank",rel:"noopener noreferrer"}},[n._v("参考"),_("OutboundLink")],1)]),n._v(" "),_("p",[n._v("1.检查依赖")]),n._v(" "),_("p",[n._v("检查gcc编译器")]),n._v(" "),_("p",[n._v("rpm -qa|grep gcc")]),n._v(" "),_("p",[n._v("ssl功能需要openssl库")]),n._v(" "),_("p",[n._v("rpm -qa|grep openssl")]),n._v(" "),_("p",[n._v("gzip模块需要zlib库")]),n._v(" "),_("p",[n._v("rpm -qa|grep zlib")]),n._v(" "),_("p",[n._v("rewrite模块需要pcre库")]),n._v(" "),_("p",[n._v("rpm -qa|grep pcre")]),n._v(" "),_("p",[n._v("若没有直接通过yum安装")]),n._v(" "),_("p",[n._v("yum install -y gcc")]),n._v(" "),_("p",[n._v("yum install -y pcre pcre-devel")]),n._v(" "),_("p",[n._v("yum install -y zlib zlib-devel")]),n._v(" "),_("p",[n._v("yum install -y openssl openssl-devel")]),n._v(" "),_("p",[n._v("2.官网 http://nginx.org/en/download.html 或wget下载 nginx-1.14.2.tar.gz")]),n._v(" "),_("p",[n._v("cd /home/tar")]),n._v(" "),_("p",[n._v("wget http://nginx.org/download/nginx-1.14.2.tar.gz")]),n._v(" "),_("p",[n._v("cp /home/tar/nginx-1.14.2.tar.gz /opt")]),n._v(" "),_("p",[n._v("cd /opt")]),n._v(" "),_("p",[n._v("tar -zxvf nginx-1.14.2.tar.gz")]),n._v(" "),_("p",[n._v("3.编译安装")]),n._v(" "),_("p",[n._v("cd /opt/nginx-1.14.2")]),n._v(" "),_("p",[n._v("./configure --with-http_stub_status_module --with-http_ssl_module")]),n._v(" "),_("p",[n._v("make")]),n._v(" "),_("p",[n._v("make install")]),n._v(" "),_("p",[n._v("nginx默认安装在 /usr/local/nginx")]),n._v(" "),_("p",[n._v("4.开放80端口")]),n._v(" "),_("p",[n._v("systemctl status firewalld.service")]),n._v(" "),_("p",[n._v("systemctl start firewalld.service")]),n._v(" "),_("p",[n._v("systemctl stop firewalld.service")]),n._v(" "),_("p",[n._v("firewall-cmd --zone=public --add-port=80/tcp --permanent")]),n._v(" "),_("p",[n._v("firewall-cmd --reload")]),n._v(" "),_("p",[n._v("5.基本操作")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx　　#启动")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -t　　#测试配置信息")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -v　　#显示版本信息")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -V　　#显示编译时的参数")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -s stop　　#快速停止服务")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -s quit　　#正常停止服务")]),n._v(" "),_("p",[n._v("/usr/local/nginx/sbin/nginx -s reload　　#重启")]),n._v(" "),_("p",[n._v("6.根据需求修改 nginx.conf 配置文件")]),n._v(" "),_("p",[n._v("不定期更新")]),n._v(" "),_("p",[n._v("7.基本命令")]),n._v(" "),_("p",[n._v("启动：/usr/local/nginx/sbin/nginx")]),n._v(" "),_("p",[n._v("快速停止：/usr/local/nginx/sbin/nginx -s stop")]),n._v(" "),_("p",[n._v("完整有序的停止：/usr/local/nginx/sbin/nginx -s quit")]),n._v(" "),_("p",[n._v("重新加载：/usr/local/nginx/sbin/nginx -s reload")]),n._v(" "),_("p",[n._v("强制停止：")]),n._v(" "),_("p",[n._v("ps -ef | grep nginx")]),n._v(" "),_("p",[n._v("kill -9 xxx")]),n._v(" "),_("p",[n._v("指定配置文件：/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf")]),n._v(" "),_("p",[n._v("8.表达式配置")]),n._v(" "),_("p",[n._v("见参考文章 location 系列")]),n._v(" "),_("p",[n._v("9.问题")]),n._v(" "),_("p",[n._v('Q: nginx: [emerg] the "ssl" parameter requires ngx_http_ssl_module in /usr/local/nginx/conf/nginx.conf:38')]),n._v(" "),_("p",[n._v("A: 编译时添加ssl模块 ./configure --with-http_ssl_module")])])}),[],!1,null,null,null);_.default=l.exports}}]);